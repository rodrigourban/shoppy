<header class="bg-gray-50">
    <div class="mx-auto max-w-screen-xl px-4 py-5 sm:px-6 lg:px-7">
        <div class="flex items-center justify-end gap-4 relative">
            <div class="flex-1 md:flex md:items-center md:gap-12">
                <a class="block text-teal-600" href="{% url 'pages:home' %}">
                    <span class="sr-only">Home</span>
                    <?xml version="1.0" encoding="UTF-8"?>
                    <svg class="h-[36px] w-[36px]"
                         stroke-width="1.3"
                         viewBox="0 0 24 24"
                         fill="none"
                         xmlns="http://www.w3.org/2000/svg"
                         color="#059669">
                        <path d="M20 14.5L19.2609 9.69588C19.1108 8.72022 18.2713 8 17.2842 8H6.71584C5.7287 8 4.8892 8.72022 4.73909 9.69589L3.35448 18.6959C3.16809 19.9074 4.10545 21 5.33122 21H12" stroke="#059669" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round">
                        </path>
                        <path d="M14 19L17 22L22 17" stroke="#059669" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"></path>
                        <path d="M14 5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5" stroke="#059669" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round">
                        </path>
                    </svg>
                </a>
            </div>
            <div class="flex items-center gap-4">
                <div class="relative">
                    <label class="sr-only" for="search">Search</label>
                    <input class="h-10 w-full rounded-full border-none bg-white pe-10 ps-4 text-sm shadow-sm sm:w-56"
                           id="search"
                           type="search"
                           placeholder="Search product..." />
                    <button type="button"
                            class="absolute end-1 top-1/2 -translate-y-1/2 rounded-full bg-gray-50 p-2 text-gray-600 transition hover:text-gray-700">
                        <span class="sr-only">Search</span>
                        <svg xmlns="http://www.w3.org/2000/svg"
                             class="h-4 w-4"
                             fill="none"
                             viewBox="0 0 24 24"
                             stroke="currentColor"
                             stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </button>
                </div>
                {% comment %} <a hx-get="{% url "cart:hx_menu_cart" %}" hx-trigger="update-menu-cart from:body">{% include "cart/partials/_menu_cart.html" %}</a> {% endcomment %}
                <div hx-get="{% url "cart:hx_menu_cart" %}"
                     hx-trigger="update-menu-cart from:body">{% include "cart/partials/_menu_cart.html" %}</div>
            </div>
            <span aria-hidden="true" class="block h-6 w-px rounded-full bg-gray-200"></span>
            {% if user.is_authenticated %}
                <a class="block shrink-0 cursor-pointer" onclick="toggleMenu()">
                    <span class="sr-only">Profile</span>
                    <img alt="Man"
                         src="https://images.unsplash.com/photo-1600486913747-55e5470d6f40?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1770&q=80"
                         class="h-10 w-10 rounded-full object-cover" />
                </a>
            {% else %}
                <a href="{% url "account_login" %}" class="block text-sm text-gray-600">
                    <span class="sr-only">Login</span>
                    Log in
                </a>
            {% endif %}
        </div>
        <div class="absolute hidden end-0 z-10 mt-2 w-56 divide-y divide-gray-100 rounded-md border border-gray-100 bg-white shadow-lg"
             role="menu"
             id="user-menu">
            <div class="p-2">
                {% if user.is_superuser %}
                    <a class="block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700"
                       href="{% url "products:create" %}">New product</a>
                {% endif %}
                <a href="{% url "communication:list" %}"
                   class="block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700"
                   role="menuitem">Inbox</a>
                <a href="#"
                   class="block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700"
                   role="menuitem">Orders</a>
                <a href="#"
                   class="block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700"
                   role="menuitem">Favorites</a>
                <a href="#"
                   class="block rounded-lg px-4 py-2 text-sm text-gray-500 hover:bg-gray-50 hover:text-gray-700"
                   role="menuitem">Profile</a>
            </div>
            <div class="p-2">
                <a href="{% url "account_logout" %}"
                   class="flex w-full items-center gap-2 rounded-lg px-4 py-2 text-sm text-red-700 hover:bg-red-50"
                   role="menuitem">Logout</a>
            </div>
        </div>
    </div>
</header>
<script>
    const toggleMenu = () => {
        const userMenu = document.getElementById('user-menu');
        userMenu.classList.toggle('hidden')
    }
</script>
